```
                       MODEL CONTEXT PROTOCOL (MCP) ARCHITECTURE
                       =======================================

┌───────────────────────────────────────────────────────────────────────────────┐
│                                                                               │
│                          HOST APPLICATIONS                                    │
│                     (Claude Desktop, IDEs, etc.)                              │
│                                                                               │
└───────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      │ Initiates Connections
                                      ▼
┌───────────────────────────────────────────────────────────────────────────────┐
│                                                                               │
│                               CLIENT                                          │
│                                                                               │
└───────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      │ JSON-RPC 2.0
                                      │
         ┌────────────────────────────┼────────────────────────────┐
         │                            │                            │
┌────────▼────────┐          ┌────────▼────────┐          ┌────────▼────────┐
│                 │          │                 │          │                 │
│  TRANSPORT LAYER│          │  PROTOCOL LAYER │          │  MESSAGE TYPES  │
│                 │          │                 │          │                 │
└─────────────────┘          └─────────────────┘          └─────────────────┘
         │                            │                            │
         │                            │                            │
┌─────────────────┐          ┌─────────────────┐          ┌─────────────────┐
│ • Stdio         │          │ • Protocol      │          │ • Requests      │
│   Transport     │          │ • Client        │          │ • Results       │
│ • HTTP          │          │ • Server        │          │ • Errors        │
│   Transport     │          │                 │          │ • Notifications │
└─────────────────┘          └─────────────────┘          └─────────────────┘
                                      │
                                      │ JSON-RPC 2.0
                                      │
┌───────────────────────────────────────────────────────────────────────────────┐
│                                                                               │
│                                 SERVER                                        │
│                                                                               │
└───────────────────────────────────────────────────────────────────────────────┘
                                      │
                                      │ Provides
                                      ▼
┌───────────────────────────────────────────────────────────────────────────────┐
│                                                                               │
│          CONTEXT             TOOLS              PROMPTS                       │
│                                                                               │
└───────────────────────────────────────────────────────────────────────────────┘


                          CONNECTION LIFECYCLE
                         ====================

┌───────────────┐     ┌───────────────┐     ┌───────────────┐
│               │     │               │     │               │
│ INITIALIZATION│────▶│    MESSAGE    │────▶│  TERMINATION  │
│               │     │    EXCHANGE   │     │               │
└───────────────┘     └───────────────┘     └───────────────┘
       │                     │                     │
       ▼                     ▼                     ▼
┌───────────────┐     ┌───────────────┐     ┌───────────────┐
│1. Client Init │     │• Request-     │     │• Clean        │
│   Request     │     │  Response     │     │  Shutdown     │
│2. Server      │     │• Notifications│     │• Transport    │
│   Response    │     │               │     │  Disconnect   │
│3. Client Init │     │               │     │• Error        │
│   Notification│     │               │     │  Condition    │
└───────────────┘     └───────────────┘     └───────────────┘
```